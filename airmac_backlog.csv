ID,Type,Title,Description,Acceptance Criteria,Priority,Status,Component,Tags,,,
FR-00,FR,Bắt buộc nhập thông tin bệnh nhân,"Form hành chính: Họ tên, Ngày sinh, Tuổi (auto), Giới tính, Địa chỉ, SĐT, Email, Lý do nhập viện/tình trạng, Mã bệnh án.","Không thể sang bước tiếp theo nếu thiếu bất kỳ trường bắt buộc; validate SĐT 10 số, email hợp lệ, ngày sinh hợp lệ.",P1,To Do,"Web UI, Server","intake,validation",,,
FR-01,FR,Checklist lâm sàng 11 mục,Cho phép nhập 11 mục theo bảng chuẩn (có/không/±).,Phải tick/nhập đủ 11 mục trước khi bấm 'Tính điểm'.,P1,To Do,Web UI,,,,
FR-02,FR,Nhập vị trí khối lồng trên siêu âm,Tuỳ chọn: bên phải rốn / trên rốn / bên trái rốn / không thấy.,Dữ liệu vị trí được ghi nhận và dùng trong tính điểm nguy cơ.,P1,To Do,Web UI,,,,
FR-03,FR,Tính điểm nguy cơ tổng hợp,Điểm triệu chứng (0–12) + điểm vị trí (1–3).,Hiển thị tổng điểm và nhóm màu: Xanh/Vàng/Cam/Đỏ, lưu vào hồ sơ ca.,P1,To Do,"Web UI, Server",,,
FR-04,FR,Ánh xạ nguy cơ → LPM/giới hạn áp lực,0–2→0.5 LPM/80 mmHg, 3–5→0.4/60, 6–8→0.3/45, ≥9→0.2–0.25/30–40.,"Sau khi tính điểm, hiển thị gợi ý và khoá cấu hình ngoài cap an toàn cứng.",P1,To Do,"Server, Embedded",mapping
FR-05,FR,Trạng thái 'Khởi động (nhưng chưa bơm)',"Sau khi tính điểm hợp lệ, chuyển trạng thái sẵn sàng chờ xác nhận bác sĩ.",Chỉ khi xác nhận mới cho phép mở van bắt đầu bơm.,P1,To Do,"Web UI, Server",,,,
FR-06,FR,Theo dõi áp lực thời gian thực,Hiển thị áp lực hiện tại và cực đại, lấy dữ liệu sensor 10Hz.,Cập nhật UI ≤ 100 ms/lần, log time-series.,P1,To Do,"Web UI, Server, Embedded",,
FR-07,FR,Cảnh báo vượt ngưỡng và tự giảm lưu lượng,Nếu áp lực vượt ngưỡng nhóm nguy cơ → giảm LPM, nếu vượt kéo dài → cảnh báo âm thanh/đèn và đề xuất tạm dừng.,Sinh sự kiện cảnh báo, ghi log sự kiện, UI hiển thị rõ cấp độ cảnh báo.,P1,To Do,"Server, Embedded, Web UI",alerts
FR-08,FR,Ngắt khẩn (E-Stop) và xả áp,"Khi kích hoạt E-Stop (nút vật lý hoặc lệnh phần mềm), đóng van và xả áp an toàn.",Trạng thái chuyển sang 'Tạm dừng/Cảnh báo', ghi log sự kiện, không tự động khởi động lại.,P1,To Do,"Embedded, Server",,
FR-09,FR,Override thủ công có kiểm soát,Cho phép bác sĩ điều chỉnh trong giới hạn an toàn, yêu cầu nhập lý do, ghi lại vào log.,Không thể vượt cap an toàn cứng, hiển thị banner 'Manual Override'.,P1,To Do,"Web UI, Server",
FR-10,FR,Ghi log ca bệnh đầy đủ,"Lưu demographics, lâm sàng, điểm nguy cơ, profile áp lực/LPM/time-series, cảnh báo, kết cục.","Có thể xuất CSV/PDF; dữ liệu time-series bao gồm timestamp, áp lực, LPM.",P1,To Do,Server,,,,
FR-11,FR,Đa ngôn ngữ (vi/en),Có file i18n JSON, UI cho phép chuyển ngôn ngữ.,"Tất cả nhãn UI, cảnh báo dịch được; fallback sang 'vi' khi thiếu key.",P1,To Do,Web UI,,,
FR-12,FR,Báo cáo in/Export,Xuất PDF/CSV với 2 chế độ: đầy đủ và ẩn danh.,"File chứa tiêu đề ca, thông tin cần thiết; không lỗi font; có đồ thị áp lực theo thời gian (nếu khả thi).",P1,To Do,Server,,,,
NFR-01,NFR,Tần số đọc cảm biến,Đọc áp lực ≥10Hz, UI cập nhật ≤100ms.,Log không bị drop >1% mẫu/ca.,P1,To Do,"Embedded, Server",,,
NFR-02,NFR,Độ chính xác cảm biến áp lực,Độ phân giải ≤1 mmHg, sai số ≤±2 mmHg trong dải 0–100 mmHg.,Kết quả hiệu chuẩn nằm trong giới hạn trên.,P1,To Do,Embedded,,,
NFR-03,NFR,Độ trễ phản ứng an toàn,Từ khi vượt ngưỡng đến khi giảm LPM ≤300ms.,Kiểm thử mô phỏng đạt yêu cầu.,P1,To Do,"Embedded, Server",,,,
NFR-04,NFR,Cap an toàn cứng,Giới hạn tuyệt đối (vd 80 mmHg) không thể vượt.,Không có đường lách qua UI/Override, test fuzz không vượt cap.,P1,To Do,Embedded,,,
NFR-05,NFR,Bảo mật & PII,Pseudonymize dữ liệu khi export, phân quyền User/Tech/Admin.,User thường không thể xoá log, Admin theo chính sách BV.,P1,To Do,Server,,
NFR-06,NFR,Khả dụng & Ổn định,Server chịu được 8 phiên đồng thời, UI hoạt động ổn trên Chrome (kiosk).,CPU server <60% ở tải danh định, không crash trong 8h liên tục.,P1,To Do,"Server, Web UI",,
NFR-07,NFR,Responsive web (kiosk),"Thiết kế tối ưu 1280×800 và 1024×600, điều khiển bằng chạm.",Không có scroll ngang, hit area ≥40px.,P1,To Do,Web UI,,,
ALG-01,ALG,Điều khiển LPM theo profile nguy cơ,Bậc thang LPM theo nhóm nguy cơ, giảm LPM khi vượt ngưỡng.,Mô phỏng cho thấy áp lực quay về dải an toàn trong ≤2s.,P1,To Do,"Embedded, Server",,,
ALG-02,ALG,"Ổn định áp lực (PID nhẹ, tuỳ chọn)",PID giới hạn bởi cap cứng, nhắm giữ áp lực mục tiêu.,Không dao động quá 5 mmHg trong steady state 10s.,P1,To Do,Embedded,,,
UAT-01,UAT,Chặn khởi động nếu thiếu demographics,Nhập thiếu 1 trường → không thể vào bước lâm sàng.,UI hiển thị lỗi cụ thể từng trường.,P1,To Do,Web UI,,,,
UAT-02,UAT,Chặn tính điểm nếu thiếu 11 mục,Thiếu bất kỳ mục checklist → không tính điểm.,Hiển thị số mục còn thiếu.,P1,To Do,Web UI,,,,
UAT-03,UAT,Đúng mapping nguy cơ→LPM/áp lực,Nhập 4 hồ sơ mẫu (thấp/TB/cao/rất cao) → đề xuất đúng.,So khớp với bảng chuẩn.,P1,To Do,Server,,,,
UAT-04,UAT,Phản ứng khi vượt ngưỡng,Mô phỏng vượt ngưỡng → giảm LPM ≤300ms, vượt kéo dài → cảnh báo & tạm dừng.,Log sự kiện đầy đủ.,P1,To Do,"Embedded, Server, Web UI",,,
UAT-05,UAT,Cap an toàn không vượt,Stress test không vượt quá áp lực cap.,Kể cả ở chế độ override.,P1,To Do,Embedded,,,,
UAT-06,UAT,Xuất báo cáo,Tạo PDF/CSV thành công ở 2 chế độ, không lộ PII ở chế độ ẩn danh.,File mở được trên máy không cài font đặc biệt.,P1,To Do,Server,,,
